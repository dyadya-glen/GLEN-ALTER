$(document).ready(function() {
    navigator.userAgent.search("Safari") >= 0 && navigator.userAgent.search("Chrome") < 0 && $("html").addClass("safari"), navigator.userAgent.search("MSIE") >= 0 && $("html").addClass("ie"), $("img, a").on("dragstart", function(e) {
        e.preventDefault()
    })
}), $(function() {
    if (window.devicePixelRatio > 1)
        for (var e = $("img.retina, img[data-retina-img]"), a = 0; a < e.length; a++) {
            var n = e[a].src.substr(-4),
                i = e[a].src.substr(0, e[a].src.length - 4);
            i += "@2x" + n, e[a].src = i
        }
}), $(document).ready(function() {
    $(".js-go-back").click(function(e) {
        return e.preventDefault(), window.history.back(), !1
    })
}), $(document).ready(function() {
    $(".js-phone-field").mask("+7 (999) 999-99-99"), $("#form__message").focus(function() {
        $("#form__message-label").fadeOut(300)
    }).blur(function() {
        0 == $(this).val().length && $("#form__message-label").fadeIn(300)
    }), $("#form-contact").validate({
        rules: {
            name: {
                required: !0
            },
            phone: {
                required: !0
            },
            email: {
                required: !0,
                email: !0
            }
        },
        messages: {
            name: {
                required: "Это поле должно быть заполнено"
            },
            phone: {
                required: "Это поле должно быть заполнено"
            },
            email: {
                required: "Это поле должно быть заполнено",
                email: "Неправильный формат Email"
            }
        },
        errorClass: "invalid-field",
        submitHandler: function(e) {
            return e.preventDefault, $.ajax({
                type: "POST",
                url: $(e).attr("action"),
                data: $(e).serialize()
            }).done(function() {
                alert("Спасибо! Ваше сообщение отправлено!")
            }), !1
        }
    })
});
var mobileMenu = function() {
    var e = 300;
    menuIcon = $(".mobile-menu-trigger"), menuPanel = $(".mobile-menu"), menuPanelWidth = 260, page = $(".page");
    var a = function() {
        menuPanel.hasClass("opened") ? (menuPanel.animate({
            left: "-" + menuPanelWidth + "px"
        }, e, "easieEaseInOut"), menuPanel.removeClass("opened"), menuIcon.removeClass("on"), $(".page__content").removeClass("blur")) : (menuPanel.animate({
            left: "0"
        }, e, "easieEaseInOut"), menuPanel.addClass("opened"), menuIcon.addClass("on"), $(".page__content").addClass("blur"))
    };
    menuIcon.click(function(e) {
        return e.preventDefault(), a(), !1
    }), $(".mobile-menu .sidebar-menu__link").click(function() {
        return $(this).parent(".sidebar-menu__item").hasClass("expandable") || a(), !0
    }), $(document).click(function(e) {
        var n = !0;
        return menuPanel.hasClass("opened") && (e.preventDefault(), a(), n = !1), n
    })
};
$(document).ready(mobileMenu), $(document).ready(function() {
    $("body").on("click", ".scroll-to-the-top", function(e) {
        e.preventDefault(), $("html:not(:animated),body:not(:animated)").animate({
            scrollTop: 0
        }, 1500)
    })
}), $(window).scroll(function() {
    $(this).scrollTop() > 500 ? $(".scroll-to-the-top").show().removeClass("animated fadeOutRight").addClass("animated fadeInLeft") : $(".scroll-to-the-top").removeClass("animated fadeInLeft").addClass("animated fadeOutRight")
}), $(document).ready(function() {
    function e() {
        var e, a, n = $(".sidebar-menu__item"),
            t = n.size();
        for (i = 0; i < t; i++) e = n.eq(i), a = $(e).find(".sidebar-submenu"), $(a).length > 0 && (e.hasClass("active") && ($(e).addClass("expanded"), $(a).slideDown(100)), $(e).addClass("expandable"))
    }
    e(), $(".sidebar-menu__link").click(function(e) {
        var a = $(this).parent(".sidebar-menu__item"),
            n = $(a).find(".sidebar-submenu"),
            i = $(a).hasClass("expanded"),
            t = !0;
        return $(n).length > 0 && (e.preventDefault(), t = !1, $(".sidebar-menu__item").removeClass("expanded"), $(".sidebar-menu__item").find(".sidebar-submenu").slideUp(300, "easieEaseInOut"), i || ($(a).addClass("expanded"), $(n).slideDown(300, "easieEaseInOut"))), t
    })
}), $(document).ready(function() {
    function e(e) {
        var a = $(e).height(),
            n = $(e).width(),
            i = n / a,
            t = $(e).closest("div,li"),
            s = t.height(),
            d = t.width(),
            o = d / s;
        i > o ? ($(e).css("height", s), $(e).css("width", "auto")) : ($(e).css("width", d), $(e).css("height", "auto"))
    }

    function a(a) {
        var n = $(a),
            i = n.closest(".slideshow__item"),
            t = n.closest(".slideshow"),
            s = t.find(".slideshow__display"),
            d = i.find("img").attr("src"),
            o = 100;
        i.hasClass("active") || (i.addClass("active").siblings().removeClass("active"), s.find("img").fadeOut(o, function() {
            $(this).attr("src", d).fadeIn(o), e($(this))
        }))
    }

    function n() {
        var a = $(".slideshow__pic"),
            n = a.size() - 1;
        if (n > -1)
            for (i = 0; i <= n; i++) e(a.eq(i).find("img"))
    }

    function t() {
        s != $(".slideshow").width() && (s = $(".slideshow").width(), n(), e($(".slideshow__display").find("img")))
    }
    var s = $(".slideshow").width();
    n(), $(".slideshow__pic").on("click", function(e) {
        e.preventDefault(), a($(this))
    }), $(window).bind("resize", function() {
        t()
    })
}), $(document).ready(function() {
    var e = function(e) {
        $(".tabs__tab").removeClass("active"), $(".tabs__page").removeClass("active"), $(".tabs__tab").eq(e).addClass("active"), $(".tabs__page").eq(e).addClass("active")
    };
    e(0), $(".tabs__tab").on("click", function(e) {
        e.preventDefault();
        var a = $(this),
            n = $(".tabs__page"),
            i = a.index();
        n.eq(i).add(a).addClass("active").siblings().removeClass("active")
    })
});
